---
import { pricingPlans } from '@/constants/pricingPlans.js';
import CombinedServices from '@/components/CombinedServices';
import LottieAnimation from 'astro-integration-lottie/Lottie.astro';
---

<section class="h-[min(auto, 60vh)] relative mb-6 flex flex-col items-center">
  <div class="flex w-full flex-col justify-between">
    <CombinedServices client:visible />
    <div class="mt-medium hidden grid-cols-3 gap-6 tablet:grid">
      {
        pricingPlans.map((plan) => (
          <div
            class={`relative flex h-auto flex-col justify-between rounded-lg bg-light py-16 text-dark shadow ${
              plan.recommended ? 'ring-[3px] ring-blurple' : ''
            }`}
          >
            {plan.recommended && (
              <div class="absolute -top-4 left-0 flex w-full justify-center text-center text-light">
                <p class="w-fit rounded-full bg-secondary-gradient px-huge py-1 font-medium">
                  Most Popular
                </p>
              </div>
            )}
            <div>
              <div class="mx-auto h-[16rem] w-[16rem]">
                <LottieAnimation src={plan.lottie} autoplay="visible" />
              </div>
              <p class="mt-8 w-full text-center font-cursive text-subTitle">
                {plan.name}
              </p>
              <div class="mb-16 mt-8 px-12">
                {plan.services.map((item) => (
                  <div class="mb-6 flex">
                    <img
                      src="/icons/check-icon.svg"
                      alt=""
                      width={20}
                      height={20}
                    />
                    <p class="ml-6 inline">{item}</p>
                  </div>
                ))}
              </div>
            </div>
            <div>
              <p class="w-full text-center font-cursive text-subTitle">
                {plan.price}
              </p>
              <p class="mt-3 w-full text-center text-sm">{plan.monthly}</p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
